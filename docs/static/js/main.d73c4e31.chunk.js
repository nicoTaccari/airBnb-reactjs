(this["webpackJsonpairbnb-remix"]=this["webpackJsonpairbnb-remix"]||[]).push([[0],{12:function(e,a,t){e.exports=t(22)},17:function(e,a,t){},19:function(e,a,t){},22:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(10),s=t.n(l),i=(t(17),t(8)),c=t.n(i),o=t(11),m=t(1),u=t(2),d=t(4),h=t(3),v=t(6),f=t(5),p=(t(19),t(7)),g=t.n(p),b=(t(21),function(e){for(var a=e.price,t=[],n=0;n<a;n++)t.push(r.a.createElement("i",{key:n,className:"fas fa-dollar-sign",style:{margin:"0 .125em"}}));for(var l=a;l<4;l++)t.push(r.a.createElement("i",{key:l,className:"fas fa-dollar-sign",style:{margin:"0 .125em",opacity:".25"}}));return t}),E=function(e){function a(e){var t;return Object(m.a)(this,a),t=Object(d.a)(this,Object(h.a)(a).call(this,e)),g.a.locale("es"),t}return Object(f.a)(a,e),Object(u.a)(a,[{key:"render",value:function(){var e=this.props.filters,a=e.dateFrom,t=e.dateTo,n=e.country,l=e.price,s=e.rooms;return r.a.createElement("section",{className:"hero is-primary"},r.a.createElement("div",{className:"hero-body"},r.a.createElement("div",{className:"container has-text-centered"},r.a.createElement("h1",{className:"title"},"Hoteles"),r.a.createElement("h2",{className:"subtitle"},"desde el ",r.a.createElement("strong",null,g()(a).format("dddd, D MMMM [de] Y")," "),"hasta el"," "," ",r.a.createElement("strong",null,g()(t).format("dddd, D MMMM [de] Y"))," "," ","select"===n?"":"en "+n," "," ","select"===l?"":"por"+b(l)," "," ","select"===s?"":"de hasta "+s+" habitaciones"))))}}]),a}(n.Component),N=function(e){function a(e){var t;return Object(m.a)(this,a),(t=Object(d.a)(this,Object(h.a)(a).call(this,e))).handleDateChange=t.handleDateChange.bind(Object(v.a)(t)),t}return Object(f.a)(a,e),Object(u.a)(a,[{key:"handleDateChange",value:function(e){this.props.onFilterChange(e)}},{key:"render",value:function(){var e=this.props,a=e.name,t=e.date;return r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{className:"level"},r.a.createElement("div",{className:"level-item has-text-centered"},r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"control has-icons-left"},r.a.createElement("input",{className:"input",name:a,value:t,onChange:this.handleDateChange,type:"date"}),r.a.createElement("span",{className:"icon is-small is-left"},r.a.createElement("i",{className:"fas fa-sign-in-alt"})))))))}}]),a}(n.Component),y=function(e){function a(e){var t;return Object(m.a)(this,a),(t=Object(d.a)(this,Object(h.a)(a).call(this,e))).handleOptionChange=t.handleOptionChange.bind(Object(v.a)(t)),t}return Object(f.a)(a,e),Object(u.a)(a,[{key:"handleOptionChange",value:function(e){console.log(e.target.value),this.props.onFilterChange(e)}},{key:"render",value:function(){var e=this.props,a=e.options,t=e.icon,n=e.selected,l=e.name;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"control has-icons-left"},r.a.createElement("div",{className:"select",style:{width:"100%"}},r.a.createElement("select",{defaultValue:n,name:l,onChange:this.handleOptionChange},a.map((function(e){return r.a.createElement("option",{value:e.value},e.name)})))),r.a.createElement("div",{className:"icon is-small is-left"},r.a.createElement("i",{className:"fa fa-"+t})))))}}]),a}(n.Component),C=function(e){function a(e){var t;return Object(m.a)(this,a),(t=Object(d.a)(this,Object(h.a)(a).call(this,e))).onFilterChange=t.onFilterChange.bind(Object(v.a)(t)),t}return Object(f.a)(a,e),Object(u.a)(a,[{key:"onFilterChange",value:function(e){var a=this.props.filters;a[e.target.name]=e.target.value,this.props.onFilterChange(a)}},{key:"render",value:function(){var e=this.props.filters;return r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{className:"navbar is-info",style:{justifyContent:"center"}},r.a.createElement("div",{className:"navbar-item"},r.a.createElement(N,{date:e.dateFrom,name:"dateFrom",onFilterChange:this.onFilterChange,icon:"sign-in-alt"})),r.a.createElement("div",{className:"navbar-item"},r.a.createElement(N,{date:e.dateTo,name:"dateTo",onFilterChange:this.onFilterChange,icon:"sign-out-alt"})),r.a.createElement("div",{className:"navbar-item"},r.a.createElement(y,{name:"country",options:[{value:"select",name:"Todos los pa\xedses"},{value:"Argentina",name:"Argentina"},{value:"Brasil",name:"Brasil"},{value:"Chile",name:"Chile"},{value:"Uruguay",name:"Uruguay"}],selected:e.country,onFilterChange:this.onFilterChange,icon:"globe"})),r.a.createElement("div",{className:"navbar-item"},r.a.createElement(y,{options:[{value:"select",name:"Cualquier precio"},{value:1,name:"$"},{value:2,name:"$$"},{value:3,name:"$$$"},{value:4,name:"$$$$"}],name:"price",selected:e.price,onFilterChange:this.onFilterChange,icon:"dollar-sign"})),r.a.createElement("div",{className:"navbar-item"},r.a.createElement(y,{options:[{value:"select",name:"Cualquier tama\xf1o"},{value:10,name:"Hotel peque\xf1o"},{value:20,name:"Hotel mediano"},{value:30,name:"Hotel grande"}],name:"rooms",selected:e.rooms,onFilterChange:this.onFilterChange,icon:"bed"}))))}}]),a}(n.Component),O=function(e){function a(e){return Object(m.a)(this,a),Object(d.a)(this,Object(h.a)(a).call(this,e))}return Object(f.a)(a,e),Object(u.a)(a,[{key:"render",value:function(){var e=this.props.hotel;return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-image"},r.a.createElement("figure",{className:"image is-4by3"},r.a.createElement("img",{src:e.photo,alt:e.slug}))),r.a.createElement("div",{className:"card-content"},r.a.createElement("p",{className:"title is-4"},e.name),r.a.createElement("p",null,e.description),r.a.createElement("div",{className:"field is-grouped is-grouped-multiline",style:{marginTop:"1em"}},r.a.createElement("div",{className:"control"},r.a.createElement("div",{className:"tags has-addons"},r.a.createElement("span",{className:"tag is-medium is-info"},r.a.createElement("i",{className:"fas fa-map-marker"})),r.a.createElement("span",{className:"tag is-medium"},e.city))),r.a.createElement("div",{className:"control"},r.a.createElement("div",{className:"tags has-addons"},r.a.createElement("span",{className:"tag is-medium is-info"},r.a.createElement("i",{className:"fas fa-bed"})),r.a.createElement("span",{className:"tag is-medium"},e.rooms," Habitaciones"))),r.a.createElement("div",{className:"control"},r.a.createElement("div",{className:"tags"},r.a.createElement("span",{className:"tag is-medium is-info"},b(e)))))),r.a.createElement("div",{className:"card-footer"},r.a.createElement("a",{href:"#",className:"card-footer-item has-background-primary has-text-white has-text-weight-bold"},"Reservar")))}}]),a}(n.Component),j=function(e){function a(e){var t;return Object(m.a)(this,a),(t=Object(d.a)(this,Object(h.a)(a).call(this,e))).displayFilteredHotels=t.displayFilteredHotels.bind(Object(v.a)(t)),t}return Object(f.a)(a,e),Object(u.a)(a,[{key:"displayFilteredHotels",value:function(e){return e.length>0?e.map((function(e,a){return r.a.createElement("div",{className:"column is-one-third",key:a},r.a.createElement(O,{hotel:e}))})):r.a.createElement("article",{className:"message is-warning"},r.a.createElement("div",{className:"message-body"},"No se han encontrado hoteles con los criterios definidos"))}},{key:"render",value:function(){var e=this.props.hotels;return r.a.createElement("section",{className:"section"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"columns is-multiline"},this.displayFilteredHotels(e))))}}]),a}(n.Component),F=function(e){function a(e){var t;return Object(m.a)(this,a),(t=Object(d.a)(this,Object(h.a)(a).call(this,e))).state={filters:{dateFrom:g()(new Date).format("YYYY-MM-DD"),dateTo:g()().add(1,"month").format("YYYY-MM-DD"),country:"select",price:"select",rooms:"select"},hotels:[],filteredHotels:[],isAllLoaded:!1},t.handleFilterChange=t.handleFilterChange.bind(Object(v.a)(t)),t}return Object(f.a)(a,e),Object(u.a)(a,[{key:"filterHotels",value:function(e,a){var t=e.dateFrom,n=e.dateTo,r=e.country,l=e.price,s=e.rooms;return console.log(e),console.log(a),a.filter((function(e){return g()(e.availabilityFrom).format("YYYY-MM-DD")>=t&&g()(e.availabilityTo).format("YYYY-MM-DD")<=n&&e.rooms<=("select"!==s?s:e.rooms)&&e.price<=("select"!==l?parseInt(l):e.price)&&e.country.trim().toLowerCase()===("select"!==r?r.trim().toLowerCase():e.country.trim().toLowerCase())}))}},{key:"handleFilterChange",value:function(e){var a=this.filterHotels(e,this.state.hotels);console.log(a),this.setState({filters:e,filteredHotels:a})}},{key:"componentDidMount",value:function(){var e=Object(o.a)(c.a.mark((function e(){var a,t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://wt-8a099f3e7c73b2d17f4e018b6cfd6131-0.sandbox.auth0-extend.com/acamica");case 3:if((a=e.sent).ok){e.next=6;break}throw Error(a.statusText);case 6:return e.next=8,a.json();case 8:t=e.sent,this.setState({hotels:t,filteredHotels:t,isAllLoaded:!0}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"warning",value:function(){return r.a.createElement("article",{className:"message is-warning"},r.a.createElement("div",{className:"message-body"},"No se han encontrado hoteles con los criterios definidos"))}},{key:"render",value:function(){var e=this.state,a=e.filters,t=e.filteredHotels;return r.a.createElement(n.Fragment,null,r.a.createElement(E,{filters:a}),r.a.createElement(C,{filters:a,onFilterChange:this.handleFilterChange}),this.state.isAllLoaded?r.a.createElement(j,{hotels:t}):this.warning())}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(F,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[12,1,2]]]);
//# sourceMappingURL=main.d73c4e31.chunk.js.map